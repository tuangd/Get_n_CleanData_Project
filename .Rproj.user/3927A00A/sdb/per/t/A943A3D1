{
    "contents" : "## Name: run_analysis.R\n## By: Tuang Dheandhanoo\n## Description: This will be an R script for Getting and Cleaning Data Course Project\n##      \n## \n##loading dplyr\nlibrary(dplyr)\n\n##start loading files that we need\n\nxtest <- read.table(\"./data/test/X_test.txt\", stringsAsFactors = FALSE)\nytest <- read.table(\"./data/test/y_test.txt\", stringsAsFactors = FALSE)\nsubtest <- read.table(\"./data/test/subject_test.txt\", stringsAsFactors = FALSE)\n\nxtrain <- read.table(\"./data/train/X_train.txt\", stringsAsFactors = FALSE)\nytrain <- read.table(\"./data/train/y_train.txt\", stringsAsFactors = FALSE)\nsubtrain <- read.table(\"./data/train/subject_train.txt\", stringsAsFactors = FALSE)\n\nfeatures <- read.table(\"./data/features.txt\", stringsAsFactors = FALSE)\nactivitiesLabel <- read.table(\"./data/activity_labels.txt\", stringsAsFactors = FALSE)\n\n## then cliping those data together\n\n## rbind Train and Test Data\nxTrainTest <- rbind(xtrain, xtest)\n## rbind subject from train and test data\nsubTrainTest <- rbind(subtrain, subtest)\n## rbind activity labels\nyTrainTest <- rbind(ytrain, ytest)\n\n## cbind subject to Data1\nData1 <- cbind(xTrainTest, subTrainTest)\n## cbind activity label to Data1\nData1 <- cbind(Data1, yTrainTest)\n\n## prepare names for our Data1 add subjects and activities to the last two rows of features\nfeatures[562,] <- c(562, \"subjects\")\nfeatures[563,] <- c(563, \"activities\")\n## then use column 2 of features to rename all the column names in Data1\nnames(Data1) <- c(features[,2])\n\n## then we will prepare a vector that contains only names that we  want\n## extract colNames from features column2\n\ncolNames <- features[,2]\n\n## then select only names that we want\ncolNames <- (colNames[(grepl(\"mean\",colNames) | \n                        grepl(\"std\",colNames) | \n                        grepl(\"subjects\",colNames) | \n                        grepl(\"activities\",colNames)) ==TRUE])\n\n\n## use colNames to subset Data1 to select only columns that we want\nData1 <- Data1[ , colNames]\n\n## time to rename those activities,\n## I use mutate and str_replace_all to rename them by pull the right label from activitiesLabel\nData1 <- mutate(Data1, activities = str_replace_all(activities, \"1\", activitiesLabel[1,2]))\nData1 <- mutate(Data1, activities = str_replace_all(activities, \"2\", activitiesLabel[2,2]))\nData1 <- mutate(Data1, activities = str_replace_all(activities, \"3\", activitiesLabel[3,2]))\nData1 <- mutate(Data1, activities = str_replace_all(activities, \"4\", activitiesLabel[4,2]))\nData1 <- mutate(Data1, activities = str_replace_all(activities, \"5\", activitiesLabel[5,2]))\nData1 <- mutate(Data1, activities = str_replace_all(activities, \"6\", activitiesLabel[6,2]))\n\n\n## step 5 time to summarise the data base on subjects and activities\n## and mean of the variables\n## use group_by() then summarise_each() with mean()\n## save them to tidyData\nData2 <- group_by(Data1, subjects, activities)\ntidyData <- summarise_each(Data2, funs(mean))\n\n## then write that tidyData to file.\nwrite.table(tidyData, file=\"./tidyData.txt\", row.name=FALSE)\n\n",
    "created" : 1414141350218.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3679406330",
    "id" : "A943A3D1",
    "lastKnownWriteTime" : 1414173137,
    "path" : "F:/TrainingVDOS/GettingAndCleaningData/project/Get_n_CleanData_Project/run_analysis.R",
    "project_path" : "run_analysis.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}